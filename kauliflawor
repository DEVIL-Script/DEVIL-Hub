local DEVIL_UI_Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/DEVIL-Script/DEVIL-Ui/main/DEVIL-Ui-Lib", true))()

local Window = DEVIL_UI_Library:CreateWindow("YT - DEVIL Script", game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name)

local MainFarm = Window:CreateTab("Main")

MainFarm:CreateSlider('Distance of Mob Farming', {
    Min = 1,
    Max = 500,
    Default = 30
}, function(value)
    getgenv().MobDistanceChanger = value
end)

getgenv().autoattackmobs = false
MainFarm:CreateToggle("Auto Attack Mobs Normal World", function(bool)
    getgenv().autoattackmobs = bool
    if bool then
        spawn(function()
            while autoattackmobs do
                pcall(function()
                    local player = game.Players.LocalPlayer
                    local playerPosition = player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character.HumanoidRootPart.Position
                    if playerPosition then
                        for _, folder1 in ipairs(workspace.MobSpawns:GetChildren()) do
                            if folder1:IsA("Folder") then
                                local mobsFolder = folder1:FindFirstChild("Mobs")
                                if mobsFolder then
                                    local enemiesNear = false
                                    local enemiesToAttack = {}
                                    
                                    -- Check if any enemy is near
                                    for _, mobModel in ipairs(mobsFolder:GetChildren()) do
                                        if mobModel:IsA("Model") then
                                            local mobPosition = mobModel:FindFirstChild("HumanoidRootPart") and mobModel.HumanoidRootPart.Position
                                            if mobPosition then
                                                local distance = (playerPosition - mobPosition).Magnitude
                                                if distance <= getgenv().MobDistanceChanger or 20 then
                                                    enemiesNear = true
                                                    table.insert(enemiesToAttack, mobModel)
                                                end
                                            end
                                        end
                                    end
                                    
                                    -- If enemies are near, attack them all at once
                                    if enemiesNear then
                                        for _, enemyModel in ipairs(enemiesToAttack) do
                                            local diedValue = enemyModel:FindFirstChild("Died")
                                            if diedValue and diedValue:IsA("BoolValue") and not diedValue.Value then
                                                enemyModel.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame - Vector3.new(25, 0, 0)
                                                game:GetService("ReplicatedStorage").Attack:FireServer(enemyModel)
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end)
                wait()
            end
        end)
    end
end)



getgenv().autoattackmobs2 = false
MainFarm:CreateToggle("Auto Attack Mobs Wave World", function(bool)
    getgenv().autoattackmobs2 = bool
    if bool then
        spawn(function()
            while autoattackmobs2 do
                pcall(function()
                    local player = game.Players.LocalPlayer
                    local playerPosition = player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character.HumanoidRootPart.Position

                    if playerPosition then
                        -- Iterate through all children of the workspace
                        for _, folder1 in ipairs(game.Workspace:GetChildren()) do
                            -- Check if the folder's name contains "bossroom" (case insensitive)
                            if folder1:IsA("Folder") and string.find(string.lower(folder1.Name), "bossroom") then
                                -- Iterate through all subfolders of the bossroom folder
                                for _, subFolder in ipairs(folder1:GetChildren()) do
                                    local mobsFolder = subFolder:FindFirstChild("Mobs")
                                    if mobsFolder then
                                        local enemiesNear = false
                                        local enemiesToAttack = {}
                                        
                                        -- Check if any enemy is near
                                        for _, mobModel in ipairs(mobsFolder:GetChildren()) do
                                            if mobModel:IsA("Model") then
                                                local mobPosition = mobModel:FindFirstChild("HumanoidRootPart") and mobModel.HumanoidRootPart.Position
                                                if mobPosition then
                                                    local distance = (playerPosition - mobPosition).Magnitude
                                                    if distance <= 1000 then
                                                        enemiesNear = true
                                                        table.insert(enemiesToAttack, mobModel)
                                                    end
                                                end
                                            end
                                        end
                                        
                                        -- If enemies are near, attack them all at once
                                        if enemiesNear then
                                            for _, enemyModel in ipairs(enemiesToAttack) do
                                                local diedValue = enemyModel:FindFirstChild("Died")
                                                if diedValue and diedValue:IsA("BoolValue") and not diedValue.Value then
                                                    enemyModel.CFrame = player.Character.HumanoidRootPart.CFrame - Vector3.new(25, 0, 0)
                                                    game:GetService("ReplicatedStorage").Attack:FireServer(enemyModel)
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end)
                wait()
            end
        end)
    end
end)

getgenv().autoccd = false
MainFarm:CreateToggle("Auto Collect Coins, Diamonds", function(bool)
    getgenv().autoccd = bool
    if bool then
        spawn(function()
            while autoccd do
                pcall(function()
                    local rootPart = game.Players.LocalPlayer.Character.HumanoidRootPart
                    local function teleportPartTo(part, position)
                        part.CFrame = CFrame.new(position)
                    end
                    local function teleportBasePartsInFolder(folder, position)
                        for _, part in ipairs(folder:GetChildren()) do
                            if part:IsA("BasePart") then
                                teleportPartTo(part, position)
                            end
                        end
                    end
                    local foldersToSearch = {"Dia", "Coins"}
                    for _, folderName in ipairs(foldersToSearch) do
                        local folder = game.Workspace:FindFirstChild(folderName)
                        if folder then
                            teleportBasePartsInFolder(folder, rootPart.Position)
                        end
                    end
                end)
                wait()
            end
        end)
    end
end)
